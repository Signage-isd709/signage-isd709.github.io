<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="https://code.jquery.com/jquery-2.1.4.js" type="text/javascript"></script>
<title>Untitled Document</title>
<script type="text/javascript" src="js/head.min.js" data-headjs-load="js/init.js"></script>
<link rel="stylesheet" type="text/css" href="css/spinkit.css"/>
<link rel="stylesheet" type="text/css" href="css/pleasewait.css"/>
<script>
head.ready(function () {
    'use strict';

    // Vars
    var $window = $(window),
        $ppBackground = $('#pp-background'),
        $ppContainer = $('#pp-container'),
        aspectRatio = $ppBackground.width() / $ppBackground.height();

    // Background resize handler
    var resizeBackground = function () {

        if (($window.width() / $window.height()) < aspectRatio) {
            $ppBackground.removeClass().addClass('full-height');
        } else {
            $ppBackground.removeClass().addClass('full-width');
        }

    };

    var resizeHandler = function () {

        resizeBackground();

        $('.item').each(function (index, item) {
            project(item);
        });
    };

    // Projection
    var topOffset,
        leftOffset,
        offset;

    var project = function (el) {

        // Calculate Offsets
        topOffset = ($ppContainer.offset().top - $(el).offset().top) + $window.scrollTop();

        leftOffset = $ppContainer.offset().left - $(el).offset().left;

        offset = (leftOffset + 'px' + ' ' + topOffset + 'px');


        // Shift background on each element
        // to match parent container background 
        $(el).css({
            'background-position': offset,
            'background-size': $ppBackground.width() + 'px' + ' ' + $ppBackground.height() + 'px'
        });
    };

    // Initialise
    var init = function () {
        resizeBackground(); // Resize Background for first time


        $window.resize(resizeHandler);
        $window.on('scroll', resizeHandler);

        $('.item').each(function (index, item) {
            project(item);
        });

    };

    // Start it all
    init();

});

 head.ready(function() {
       $('#eventlist').gCalReader({
         calendarId:'web.printshop@isd709.org',
         apiKey:'AIzaSyCHhi-u9BPj-jFIqLVw4VKpzZUzeriG1ow',
         sortDescending: false
        });
	 });
head.ready(function() {
  $.simpleWeather({
    location: 'Duluth, MN',
    woeid: '',
    unit: 'f',
    success: function(weather) {
      html = '<div id="weatherIcon" class="icon"></div><div>'+weather.currently+'</div><div id="current"><h2>'+weather.temp+'&deg;'+weather.units.temp+'</h2><br><h3 style=color:white;">'+weather.city+', '+weather.region+'</h3></div><div id="currentIcon"></div>';
      html += '<ul>';
      html += '<li>'+weather.currently+'</li><hr>';
      html += '<li>'+weather.wind.direction+' '+weather.wind.speed+' '+weather.units.speed+'</li><hr>';
      html += '<li>High'+weather.high+'&#8457;</li><hr>';
      html += '<li>Low'+weather.low+'&#8457;</li><hr></ul>';
  
      $("#weather").html(html);
      if (weather.code == 23 || weather.code == 24 || weather.code == 25 || weather.code == 32 || weather.code == 34 || weather.code == 36) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 5 || weather.code == 7 || weather.code == 13 || weather.code == 14 || weather.code == 15 || weather.code == 16 || weather.code == 41 || weather.code == 42 || weather.code == 43 || weather.code == 46) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 0 || weather.code == 1 || weather.code == 2 || weather.code == 3 || weather.code == 4 || weather.code == 17 || weather.code == 37 || weather.code == 38 || weather.code == 39 || weather.code == 45 || weather.code == 47) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 30 || weather.code == 44) {
	$("#weatherIcon").html('<div class="cloud"></div><div class="sun"><div class="rays"></div></div>');
	}
	else if (weather.code == 27 || weather.code == 29) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 31 || weather.code == 33) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 8 || weather.code == 10) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 6 || weather.code == 11 || weather.code == 12 || weather.code == 18 || weather.code == 35 || weather.code == 40) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 19 || weather.code == 20 || weather.code == 21 || weather.code == 22) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 9) {
	document.getElementById("weatherIcon").innerHtml = '<div class="sun"><div class="rays"></div></div>';
	}
	else if (weather.code == 26 || weather.code == 28) {
	$("#weatherIcon").html('<div class="cloud"></div><div class="sun"><div class="rays"></div></div>');
	};
	console.log(weather.code);
    },
    error: function(error) {
      $("#weather").html('<p>'+error+'</p>');
    }
  });
});


window.onload = function() { 
 //$("#sidebar").toggle( "slide" );
 //$("#sidebar-blur").toggle( "slide" );
 $('.CalEvents').bxSlider({
  minSlides: 4,
  maxSlides: 4,
  slideWidth: 170,
  slideMargin: 10,
  mode: 'vertical',
  ticker: true,
  speed: 6000
  });
}
 /*$('.CalEvents').slick({
    slidesToShow: 6,
    vertical: true,
    autoplay: true,
    arrows: false,
    lazyLoad: 'progressive',
    infinite: true,
    cssEase: 'ease',
    draggable: false
  });
}*/
</script>
</head>
<body>
<script src="js/pleasewait.js" type="text/javascript"></script>
<script>
var loading_screen = pleaseWait({
  logo: "img/isd_709_logo.png",
  backgroundColor: 'linear-gradient(to left, rgba(255, 75, 31, 0.4) , rgba(31, 221, 255, 0.4))',
  loadingHtml: "<p>Inspire Brillance: <em>Our Mission</em></p><div class='sk-spinner sk-spinner-pulse'></div>"
});
<!--Flip Logo<div class='sk-spinner sk-rotating-plane'><div class='sk-rect1'></div><div class='sk-rect2'></div><div class='sk-rect3'></div><div class='sk-rect4'></div><div class='sk-rect5'></div></div>-->
<!--InOutLogo<div class='sk-double-bounce'><div class='sk-child sk-double-bounce1'></div><div class='sk-child sk-double-bounce2'></div></div>-->
<!--Pulse Logo<div class='sk-spinner sk-spinner-pulse'></div>-->
setTimeout(function(){ loading_screen.finish();}, 10000);
</script>
<div id="pp-container" class="projector-container">
   <img src="../signage_background.png" id="pp-background" alt="">
    <div class="item-wrapper">
    <!---->
      <div class="item last"><div class="item-overlay"><img width="100%" src="img/isd_709_logo.png" style="padding-top:5px;"/>
    <div id="sidebar_contents" style="padding-top:5px; overflow:hidden; width:auto; height:100%; z-index: 99998;">
     <center><iframe allowfullscreen="" width="auto" height="70px" frameborder="0" src="https://freesecure.timeanddate.com/clock/i53vq5na/n3716/fn10/fs24/fc333/tct/pct/tt0/tw1/tb4"></iframe></center>
        <div id="weather" style="width:345px; height:450px;"></div>
       <div id="eventlist" style="width: auto; overflow:hidden;" class="CalEvents" width="100%" height="100%"></div>
       </div></div></div>
       <div class="item" style="float:left;width:1200px; height:900px; position:absolute; margin-top:5%; margin-left:9%;"><div class="item-overlay"> <iframe src="https://docs.google.com/presentation/embed?id=1bG8dHatohJiE3AIyzSMJ0gdWtRNz8JG987e620VGyCE&amp;start=true&amp;loop=true&amp;rm=minimal&amp;delayms=3000" frameborder="0"style="width:100%; height:100%;"></iframe></div></div>
    </div>
</div>
</body>
</html>
