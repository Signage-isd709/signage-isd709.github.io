!function(e){e.fn.gCalReader=function(t){function a(e,t){var a,n,r,s,d={months:{full:["","January","February","March","April","May","June","July","August","September","October","November","December"],"short":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},days:{full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}};e.length>10?(n=/(\d+)\-(\d+)\-(\d+)T(\d+)\:(\d+)/.exec(e),r=n[4]<12,s=r?parseInt(n[4])+":"+n[5]+" AM":n[4]-12+":"+n[5]+" PM",0===s.indexOf("0")&&(s=1===s.indexOf(":00")?5===s.indexOf("AM")?"MIDNIGHT":"NOON":s.replace("0:","12:"))):(n=/(\d+)\-(\d+)\-(\d+)/.exec(e),s="Time not present in feed.");var o=parseInt(n[1]),i=parseInt(n[2]),l=parseInt(n[3]),u=new Date(o,i-1,l),c=d.months.full[i],m=l,y=d.days.full[u.getDay()];switch(t){case"ShortTime":a=s;break;case"ShortDate":a=i+"/"+l+"/"+o;break;case"LongDate":a=d.days.full[u.getDay()]+" "+d.months.full[i]+" "+l+", "+o;break;case"LongDate+ShortTime":a=d.days.full[u.getDay()]+" "+d.months.full[i]+" "+l+", "+o+" "+s;break;case"ShortDate+ShortTime":a=i+"/"+l+"/"+o+" "+s;break;case"DayMonth":a=d.days["short"][u.getDay()]+", "+d.months.full[i]+" "+l;break;case"MonthDay":a=d.months.full[i]+" "+l;break;case"YearMonth":a=d.months.full[i]+" "+o;break;default:a=d.days.full[u.getDay()]+" "+d.months["short"][i]+" "+l+", "+o+" "+s}return[a,c,m,y]}var n=e(this),r=e.extend({calendarId:isd709.org_11q3k29tffbma93kjbigh986sg@group.calendar.google.com",apiKey:"AIzaSyCHhi-u9BPj-jFIqLVw4VKpzZUzeriG1ow",dateFormat:"LongDate",errorMsg:"No events in calendar",maxEvents:50,futureEventsOnly:!0,sortDescending:!0},t),s="",d="https://www.googleapis.com/calendar/v3/calendars/"+encodeURIComponent(r.calendarId.trim())+"/events?key="+r.apiKey+"&orderBy=startTime&singleEvents=true";r.futureEventsOnly&&(d+="&timeMin="+(new Date).toISOString()),e.ajax({url:d,dataType:"json",success:function(t){r.sortDescending&&(t.items=t.items.reverse()),t.items=t.items.slice(0,r.maxEvents),e.each(t.items,function(t,d){var o,i=d.start.dateTime||d.start.date||"",l=d.summary||"",u=d.location,c=a(i,r.dateFormat.trim()),m=c[1],y=c[2],h=c[3];o="<time datetime= "+d.start.date+' class="icon"><em>'+h+"</em><strong>"+m+"</strong><span>"+y+"</span></time>",s='<div class="eventtitle">'+l+"</div>",u&&(s+='<div class="location">Where: '+u+"</div>"),e(n).append('<div name="eventWrapper" class="slide"><table><td><div name="eventIcon" align="left">'+o+'</div></td><td><div name="eventInfo">'+s+"</div></td></table>")})},error:function(t,a){e(n).append("<p>"+a+" : "+r.errorMsg+"</p>")}})}}(jQuery);
